2024-11-07 11:05:31 INFO  c.j.m.service.CustomerService - Adding customer: com.jalasoft.movierental.entity.Customer@97e93f1
2024-11-07 11:06:00 ERROR c.j.m.e.h.CustomExceptionHandler - An unexpected error occurred: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
java.lang.IllegalArgumentException: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.jalasoft.movierental.entity.movies.MovieType.valueOf(MovieType.java:6)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:86)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:57)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:27)
	at com.jalasoft.movierental.Main.main(Main.java:11)
2024-11-07 11:12:16 INFO  c.j.m.service.CustomerService - Adding customer: com.jalasoft.movierental.entity.Customer@97e93f1
2024-11-07 11:12:23 ERROR c.j.m.e.h.CustomExceptionHandler - An unexpected error occurred: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
java.lang.IllegalArgumentException: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.jalasoft.movierental.entity.movies.MovieType.valueOf(MovieType.java:6)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:91)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:59)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:26)
	at com.jalasoft.movierental.Main.main(Main.java:11)
2024-11-07 11:13:16 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.RegularMovie@20bd8be5
2024-11-07 11:14:00 INFO  c.j.m.service.RentalService - Adding rental: com.jalasoft.movierental.entity.Rental@7d7758be
2024-11-07 11:32:47 INFO  c.j.m.service.CustomerService - Adding customer: com.jalasoft.movierental.entity.Customer@97e93f1
2024-11-07 11:33:25 ERROR c.j.m.e.h.CustomExceptionHandler - An unexpected error occurred: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
java.lang.IllegalArgumentException: No enum constant com.jalasoft.movierental.entity.movies.MovieType.X
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.jalasoft.movierental.entity.movies.MovieType.valueOf(MovieType.java:6)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:95)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:60)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:25)
	at com.jalasoft.movierental.Main.main(Main.java:11)
2024-11-07 11:34:20 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.RegularMovie@20bd8be5
2024-11-07 11:35:07 INFO  c.j.m.service.RentalService - Adding rental: com.jalasoft.movierental.entity.Rental@7d7758be
2024-11-07 13:12:10 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=a8d1ac90-00f0-4e20-979f-2b5d7f3c70f4, name=deyvis ml)
2024-11-07 13:12:28 INFO  c.j.movierental.service.MovieService - Adding movie: Movie(id=e2d540bd-4cb2-43a9-bb25-c9889ef09c82, title=my movie, pricingStrategy=com.jalasoft.movierental.entity.movies.strategies.ChildrenPricingStrategy@4e0ae11f, pointsStrategy=com.jalasoft.movierental.entity.movies.strategies.ChildrenPointsStrategy@238d68ff)
2024-11-07 13:12:28 ERROR c.j.m.e.h.CustomExceptionHandler - File access error: Error writing movies
com.jalasoft.movierental.exception.custom.FileAccessException: Error writing movies
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:117)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:59)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:20)
	at com.jalasoft.movierental.service.MovieService.addMovie(MovieService.java:51)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:123)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:78)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:40)
	at com.jalasoft.movierental.Main.main(Main.java:11)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.jalasoft.movierental.entity.movies.strategies.NewReleasePricingStrategy and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.jalasoft.movierental.entity.movies.NewReleaseMovie["pricingStrategy"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:655)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:147)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1081)
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:115)
	... 7 common frames omitted
2024-11-07 13:16:42 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.ChildrenMovie@7a6d7e92
2024-11-07 13:17:31 INFO  c.j.movierental.service.MovieService - Adding movie: Movie(id=0d3a2615-149f-4e5e-9c63-ff25b4d83848, title=my movie, pricingStrategy=com.jalasoft.movierental.entity.movies.strategies.ChildrenPricingStrategy@41330d4f, pointsStrategy=com.jalasoft.movierental.entity.movies.strategies.ChildrenPointsStrategy@1b66c0fb)
2024-11-07 13:17:31 ERROR c.j.m.e.h.CustomExceptionHandler - File access error: Error writing movies
com.jalasoft.movierental.exception.custom.FileAccessException: Error writing movies
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:117)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:59)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:20)
	at com.jalasoft.movierental.service.MovieService.addMovie(MovieService.java:51)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:123)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:78)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:40)
	at com.jalasoft.movierental.Main.main(Main.java:11)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.jalasoft.movierental.entity.movies.strategies.ChildrenPricingStrategy and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.jalasoft.movierental.entity.movies.ChildrenMovie["pricingStrategy"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:655)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:147)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1081)
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:115)
	... 7 common frames omitted
2024-11-07 13:18:18 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.ChildrenMovie@7a6d7e92
2024-11-07 13:18:18 ERROR c.j.m.e.h.CustomExceptionHandler - File access error: Error writing movies
com.jalasoft.movierental.exception.custom.FileAccessException: Error writing movies
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:117)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:59)
	at com.jalasoft.movierental.repository.JsonMovieRepository.save(JsonMovieRepository.java:20)
	at com.jalasoft.movierental.service.MovieService.addMovie(MovieService.java:51)
	at com.jalasoft.movierental.controller.MenuControllerTest.addMovie(MenuController.java:123)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:78)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:40)
	at com.jalasoft.movierental.Main.main(Main.java:11)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.jalasoft.movierental.entity.movies.strategies.ChildrenPricingStrategy and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.jalasoft.movierental.entity.movies.ChildrenMovie["pricingStrategy"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:655)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:147)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1081)
	at com.jalasoft.movierental.repository.JsonMovieRepository.writeMovies(JsonMovieRepository.java:115)
	... 7 common frames omitted
2024-11-07 13:19:08 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.ChildrenMovie@7a6d7e92
2024-11-07 13:21:36 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=45db8c25-ed63-4ed3-a314-e143b633f892, name=deyvis)
2024-11-07 13:21:50 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.ChildrenMovie@2bdd8394
2024-11-07 13:22:32 INFO  c.j.m.service.RentalService - Adding rental: Rental(id=d76bf984-3597-423f-87f4-636e9ece4bf7, customerId=45db8c25-ed63-4ed3-a314-e143b633f892, movieId=56024f2b-f51b-43e6-b94d-d891889493f7, daysRented=3)
2024-11-07 13:22:43 ERROR c.j.m.e.h.CustomExceptionHandler - Not found error: Movie with id c0ef0faf-034f-4b4f-bd0f-bd9734b821df not found
com.jalasoft.movierental.exception.custom.ResourceNotFoundException: Movie with id c0ef0faf-034f-4b4f-bd0f-bd9734b821df not found
	at com.jalasoft.movierental.repository.JsonMovieRepository.lambda$findById$1(JsonMovieRepository.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.jalasoft.movierental.repository.JsonMovieRepository.findById(JsonMovieRepository.java:75)
	at com.jalasoft.movierental.repository.JsonMovieRepository.findById(JsonMovieRepository.java:20)
	at com.jalasoft.movierental.service.RentalService.calculateRentalAmount(RentalService.java:127)
	at com.jalasoft.movierental.service.RentalService.lambda$showDetailsByCustomerId$2(RentalService.java:92)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at com.jalasoft.movierental.service.RentalService.showDetailsByCustomerId(RentalService.java:91)
	at com.jalasoft.movierental.service.RentalService.lambda$showAllCustomerRentals$1(RentalService.java:78)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at com.jalasoft.movierental.service.RentalService.showAllCustomerRentals(RentalService.java:78)
	at com.jalasoft.movierental.controller.MenuControllerTest.showAllCustomerRentals(MenuController.java:147)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:84)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:40)
	at com.jalasoft.movierental.Main.main(Main.java:11)
2024-11-07 13:23:21 ERROR c.j.m.e.h.CustomExceptionHandler - An unexpected error occurred: For input string: ""
java.lang.NumberFormatException: For input string: ""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:678)
	at java.base/java.lang.Integer.parseInt(Integer.java:786)
	at com.jalasoft.movierental.controller.MenuControllerTest.displayMenu(MenuController.java:71)
	at com.jalasoft.movierental.MovieRentalApp.run(MovieRentalApp.java:40)
	at com.jalasoft.movierental.Main.main(Main.java:11)
2024-11-07 19:46:12 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=e24e26ba-bcdd-43d9-9c2d-05da0c38e840, name=John Doe)
2024-11-07 19:46:22 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=8c5a57b6-5025-4ac0-8664-2368330b9791, name=John Doe)
2024-11-07 19:47:47 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=eba89cba-77ac-4d9a-ade5-81248f8bc148, name=John Doe)
2024-11-07 19:48:03 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=5784882d-e69e-410b-9691-22ac00ade1a3, name=John Doe)
2024-11-07 19:48:42 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=0cc8907c-64bf-49c1-95b8-f237bfd6f950, name=John Doe)
2024-11-07 19:50:14 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=ec803497-0581-4d58-afbe-a71067a9005d, name=John Doe)
2024-11-07 20:26:32 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=e44fb4a7-4368-43f0-a92f-9513e2e1aa25, name=John Doe)
2024-11-07 20:28:26 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=6033b499-6d8c-43bb-b968-4bf33b9578ee, name=John Doe)
2024-11-07 20:28:53 INFO  c.j.m.service.CustomerService - Getting customer by id: 4fbfd997-e16e-4cd1-bca9-3f73685f6887
2024-11-07 20:28:59 INFO  c.j.m.service.CustomerService - Getting all customers
2024-11-07 20:32:43 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.NewReleaseMovie@3e7dfd44
2024-11-07 20:32:49 INFO  c.j.movierental.service.MovieService - Getting movie by id: 75f15971-18b3-44f6-8137-9d5bf4847849
2024-11-07 20:32:59 INFO  c.j.movierental.service.MovieService - Getting all movies
2024-11-07 20:34:30 INFO  c.j.m.service.RentalService - Adding rental: Rental(id=cb3571c2-63da-4a33-ac73-1e2feba186e2, customerId=0f7d6ca3-5fc4-446d-a504-fd79e46ab4ab, movieId=7287a8a8-e5c5-4e59-95d8-734caae65927, daysRented=5)
2024-11-07 21:05:19 INFO  c.j.m.service.CustomerService - Adding customer: Customer(id=2fa5dbe8-1795-4431-8055-3cbb9e6f895a, name=John Doe)
2024-11-07 21:05:19 INFO  c.j.m.service.CustomerService - Getting all customers
2024-11-07 21:05:19 INFO  c.j.m.service.CustomerService - Getting customer by id: 5582374a-13e5-4b85-96b6-9bcc93e73ec4
2024-11-07 21:05:19 INFO  c.j.movierental.service.MovieService - Getting all movies
2024-11-07 21:05:19 INFO  c.j.movierental.service.MovieService - Getting movie by id: 5c51bd46-720e-4774-ad61-a087ee470904
2024-11-07 21:05:19 INFO  c.j.movierental.service.MovieService - Adding movie: com.jalasoft.movierental.entity.movies.NewReleaseMovie@2cea921a
2024-11-07 21:05:19 INFO  c.j.m.service.RentalService - Adding rental: Rental(id=ed0c93df-68a4-4f57-86ea-15e4f7fbf46a, customerId=392781ec-f0af-482d-a643-443627720a15, movieId=a78e9c9c-4c17-42e6-81b7-3c13da0dc656, daysRented=5)
